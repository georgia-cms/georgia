<% if picture and picture.data.file.exists? %>
<%= content_tag(:div, id: dom_id(picture), class: "gal-item", data: {url: picture.url_content}) do %>
<%= link_to image_tag("ckeditor/filebrowser/images/gal_del.png", title: 'delete'), media_path(picture), method: :delete, data: {confirm: 'Are you sure you want to delete this picture?'}, remote: true, class: "fileupload-cancel gal-del" if can? :destroy, Ckeditor::Asset %>
<div class="fileupload-file gal-inner-holder">
  <div class="img">
    <%= link_to image_tag(picture.url_thumb, title: (picture.filename || picture.data.file.filename)), picture.url_content, rel: 'lightbox' %>
  </div>
  <div class="img-data">
    <div class="img-name">
      <%= picture.filename || picture.data.file.filename %>
    </div>
    <div class="picture-size">
      <%= picture.width %> x <%= picture.height %>
    </div>
    <div class="time-size">
      <div class="created-at"><%= picture.format_created_at %></div>
      <div class="fileupload-size size"><%= number_to_human_size(picture.try(:size)) %></div>
    </div>

    <div class='list-tags'>
      <div class="tags">
        <%= link_to icon_tag('icon-pencil'), "#", class: 'js-edit-tags', title: "Edit tags" %>
        <%= picture.list_all_tags %>
      </div>

      <div class='form' style='display:none;'>
        <%= simple_form_for picture, url: media_path(picture), html: {class: 'form-vertical', data: {'picture-id' => picture.id}}, remote: true do |f| %>
        <%= f.input :tag_list, label: false, placeholder: 'enter tags', input_html: {class: 'input-medium'} %>
        <% end %>
      </div>
    </div>

  </div>

</div>
<% end %>
<% end %>