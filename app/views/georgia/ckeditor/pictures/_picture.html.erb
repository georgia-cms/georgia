<tr id='asset_<%= picture.id %>'>
  <td>
    <%= link_to picture.url_content, class: 'media-link bg-transparent', rel: 'shadowbox[gallery]' do %>
      <%= image_tag picture.url(:tiny), title: (picture.filename || picture.data.file.filename), class: 'media-image' %>
    <% end %>
  </td>
  <td>
    <%= link_to picture.filename_truncated, picture.url, target: '_blank' %>
  </td>
  <td class='nowrap'>
    <%= picture.data.file.exists? ? number_to_human_size(picture.size) : content_tag(:span, 'File not found', class: 'muted') %>
  </td>
  <td>
    <%= picture.width %>x<%= picture.height %>
  </td>
  <td>
    <% if picture.featured? %>
      <span class="badge badge-success"><%= picture.contents_count %></span>
    <% end %>
  </td>
  <td>
    <%= simple_form_for picture, as: :asset, url: media_path(picture), html: {class: 'form-vertical', data: {'picture-id' => picture.id}}, remote: true do |f| %>
    <%= f.input :tag_list, label: false, input_html: {class: 'input-large js-token-input', data: {load: picture.tags.map{|t| {id: t.id, text: t.name} }}} %>
    <% end %>
  </td>
  <td class='actions nowrap'>
    <%= link_to "#{icon_tag('icon-download')} Download".html_safe, picture.url, class: 'btn btn-info', target: '_blank' %>
    <%= link_to "#{icon_tag('icon-trash')} Delete".html_safe, media_path(picture), method: :delete, data: {confirm: "#{'This picture is featured in one or many areas of the website. You should first replace it before deleting it. ' if picture.featured?}Are you sure you want to delete this picture?"}, remote: true, class: 'btn btn-danger' if can? :destroy, Ckeditor::Asset %>
  </td>
</tr>